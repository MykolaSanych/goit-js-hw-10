{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nconst buttonStart = document.getElementById('button-start');\nconst timerDisplay = document.querySelectorAll('.value');\nlet userSelectedDate = {};\nconst days = timerDisplay[0];\nconst hours = timerDisplay[1];\nconst minutes = timerDisplay[2];\nconst seconds = timerDisplay[3];\nlet buttonActive = false;\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    console.log(selectedDates[0]);\n    if (Date.now() >= selectedDates[0].getTime()) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please choose a date in the future',\n        position: 'topRight',\n      });\n      buttonActive = false;\n      buttonStart.classList.remove('active-button');\n    } else {\n      userSelectedDate = Date.parse(selectedDates);\n      buttonStart.classList.add('active-button');\n      buttonActive = true;\n    }\n  },\n};\nflatpickr('#datetime-picker', options);\nfunction timer() {\n  if (buttonActive) {\n    buttonActive = false;\n    buttonStart.classList.remove('active-button');\n    const timerId = setInterval(() => {\n      const realTime = Date.now();\n      const sec = Math.floor((userSelectedDate - realTime) / 1000);\n      const min = Math.floor(sec / 60);\n      const h = Math.floor(min / 60);\n      days.innerHTML = String(Math.floor(h / 24)).padStart(2, '0');\n      seconds.innerHTML = String(sec % 60).padStart(2, '0');\n      minutes.innerHTML = String(min % 60).padStart(2, '0');\n      hours.innerHTML = String(h % 24).padStart(2, '0');\n      if (userSelectedDate - realTime <= 1000) {\n        clearInterval(timerId);\n      }\n    }, 1000);\n  } else {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please choose a date in the future',\n      position: 'topRight',\n    });\n  }\n}\n\nbuttonStart.addEventListener('click', timer);\n"],"names":["buttonStart","timerDisplay","userSelectedDate","days","hours","minutes","seconds","buttonActive","options","selectedDates","iziToast","flatpickr","timer","timerId","realTime","sec","min","h"],"mappings":"+IAIA,MAAMA,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAe,SAAS,iBAAiB,QAAQ,EACvD,IAAIC,EAAmB,CAAA,EACvB,MAAMC,EAAOF,EAAa,CAAC,EACrBG,EAAQH,EAAa,CAAC,EACtBI,EAAUJ,EAAa,CAAC,EACxBK,EAAUL,EAAa,CAAC,EAC9B,IAAIM,EAAe,GACnB,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EACxB,KAAK,IAAK,GAAIA,EAAc,CAAC,EAAE,WACjCC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qCACT,SAAU,UAClB,CAAO,EACDH,EAAe,GACfP,EAAY,UAAU,OAAO,eAAe,IAE5CE,EAAmB,KAAK,MAAMO,CAAa,EAC3CT,EAAY,UAAU,IAAI,eAAe,EACzCO,EAAe,GAElB,CACH,EACAI,EAAU,mBAAoBH,CAAO,EACrC,SAASI,GAAQ,CACf,GAAIL,EAAc,CAChBA,EAAe,GACfP,EAAY,UAAU,OAAO,eAAe,EAC5C,MAAMa,EAAU,YAAY,IAAM,CAChC,MAAMC,EAAW,KAAK,MAChBC,EAAM,KAAK,OAAOb,EAAmBY,GAAY,GAAI,EACrDE,EAAM,KAAK,MAAMD,EAAM,EAAE,EACzBE,EAAI,KAAK,MAAMD,EAAM,EAAE,EAC7Bb,EAAK,UAAY,OAAO,KAAK,MAAMc,EAAI,EAAE,CAAC,EAAE,SAAS,EAAG,GAAG,EAC3DX,EAAQ,UAAY,OAAOS,EAAM,EAAE,EAAE,SAAS,EAAG,GAAG,EACpDV,EAAQ,UAAY,OAAOW,EAAM,EAAE,EAAE,SAAS,EAAG,GAAG,EACpDZ,EAAM,UAAY,OAAOa,EAAI,EAAE,EAAE,SAAS,EAAG,GAAG,EAC5Cf,EAAmBY,GAAY,KACjC,cAAcD,CAAO,CAExB,EAAE,GAAI,CACX,MACIH,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qCACT,SAAU,UAChB,CAAK,CAEL,CAEAV,EAAY,iBAAiB,QAASY,CAAK"}